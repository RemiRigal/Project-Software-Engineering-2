Version 1.1
Software Engineering Project
Requirements Analysis and Specifications Document

Vianney Payelle - Rémi Rigal - Noëlie Ramuzat


1.	Introduction
These days the mobile industry is in a constant development and their technologies don’t stop to improve. 
In particular the mobile applications sector has become one of the more active in the market. Indeed, these applications are easy and fast to use, everywhere and at any time, appealing the customers. 
The Enjoy Company provides a real-time car reservation service, where its clients can book electric cars near a given address and pick it within an hour. 
In order to satisfy their customers and ease the use of their services, Enjoy Company decides to build a mobile application: PowerEnjoy. 
This one creates a portable interface between the driver, his account and the available cars, enhancing the efficiency of the services.

1.1.	Purpose (goals)
The PowerEnjoy application needs the client to be registered in its database before he can reserve a car, for security and payment reasons (credential information, driver license, and identity card). 
After he logs in, the mobile app allows him to reserve a car around an address or his GPS position. 
Then it provides him information about his reservation on the main page. The application also allows the client to cancel his reservation and unlock the reserved car when he his near it.
After the ride the application locks the car and sends an email to the client with the bill of the ride. 
The mobile application can moreover give discounts and charges in function of the client’s ride such as sharing the car or plug it in power grid.  

The PowerEnjoy application is built in order to ensure an easy and clear reservation service as well as an effective data collecting and saving. 
This refers the PowerEnjoy application simplifies the customer’s uses, optimises the time to reserve a car and adjusts the price of the ride according to the driver. 

Goals:

G1: Allow driver to register to the system  by providing credential and payment informations

G2: Allow driver to log into the system with provided password

G3: Driver can locate available cars within a certain distance around him or an address

G4: Driver can book a car for up to 1hour before pick it up

G5: A booked car but not picked up within one hour generate 1€ fee for the driver

G6: A driver close enough to a car booked by him must be able to open it

G7: The system start charging once engine ignite

G8: The set of safe area is predefined by the management system

G9: The system stop charging once he leave the car parked in a safe area

G10: 10% discount on last ride if the car detect at least two passengers

G11: The system apply 20% discount on the last ride if the car is left with more than 50% battery (over full battery)

G12: If the driver park the car in a special parking area, where the car can be charged, and take care to plug the car. The system apply 30% discount on the last ride.

G13: If the car is left with less than 20% battery or at more than 3km from the nearest power grid station, the system charges 30% more on the last ride.

G14: The driver can enable the saving money option and so by giving his final destination to the system, this one is able give him a station as destination (based on distribution of cars algorithm and available plugs in the station as well as the final destination of the driver) and so if the driver leave the car at this place he will get a special discount.

1.2.	Scope (world, share phenomena)
With the improvement of mobile phones, which performances compete some laptops ’ones; the development of mobile applications is the best way to create reliable platforms for company. 
The PowerEnjoy application is a product reserved to mobile; it permits an easy access to internet connexion and GPS navigation (provides by the mobile phone) for running.
Clients are drivers who would use this application quickly in town, to reach specific places without using common transports or taxis. 
Drivers can reach any places in town because of the available parking widespread in it, covering the entirety of the city areas. Driver can easily found a car, the application main page giving a map to guide him to it. 
It is not expensive, Enjoy Company providing electric cars and drivers owning discounts by sharing it, plugging it or economizing the batteries. 
The driver’s ride is monitored by the sensors in the car, which communicate in real time to the application system, this one providing back the price, the discounts or charges on the navigation screen of the car. 
By this way the driver is constantly informed of the price, the discounts and the charges (ride not respectful to the other clients: low battery, not park in safe area) he has on his ride.
The navigation system of the cars is useful for the driver to find a safe area near his destination where he can park. The saving money option also helps him to find a special parking area to plug in the car. 

1.3.	Definitions, acronyms, and abbreviations [Vianney]
System: Element which regroup each software pieces of the project
Management system: Part of the system which take care of drivers an cars
Driver: any people interacting with the system through the car or the application
Car: any electric car involved in the project through the system
Application: Program providing an interface between the system and the driver through a smartphone
Safe area: A zone defined by a set of position where the car van be safely parked
Power grid station: A place where an electric car can be parked and plugged to recharge, with a defined number of plugs
Car status: Attribute of a car to define if it is available or not (boolean)
Driver status: Attribute of a driver that define if he booked a car, driving one or prevented to booking a car (and for how long)

1.4.	Reference Documents [Noëlie]
1.5.	Used Tools [Noëlie]
1.6.	Overview
The Requirements Analysis and Specifications Document is the support piece of this project. It presents the different requirements, with explanations about the application domain of the system and its development. 
It is the starting point for all the future evolution of the software, providing a basis for estimations (size or cost of the project), for testing process and for requirements changes.
In the following parts of the document are describing the product with its main features, then the specific requirements, the alloy modelling and finally the future development.
In the describing part is presented the application class and state diagrams, its major requirements, its users, its constraints and assumptions. 
In the second part, the external, functional and performance requirements are provided, with the scenarios, use cases and system attributes definitions. 
In the alloy part is implemented the model of the application and presented the world generated. Finally the repartition of the hours of work follows the part on the future development.

2.	Overall Description 
2.1.	Product perspective (external interfaces)
2.1.1.	Class diagram [Noëlie]
2.1.2.	State diagrams [Noëlie]
2.2.	Product functions  (requirements) [Vianney]

G1: Allow driver to register to the system  by providing credential and payment informations
	-Store provided informations
	-Link payment credential to payment system
	-Ensure confidentiality and security
	-Return password to log into the system
	-Check already existing driver

G2: Allow driver to log into the system with provided password
	-Check credential 
	-Allow access if the informations are right
	
G3: Driver can locate available cars within a certain distance around him or an address
	-Driver can input address and/or range
	-The management system know if a car is available or not
	-The management system can compare cars locations with the provided address or the driver’s 	locations
	-The application can show those cars and their locations

G4: Driver can book a car for up to 1 hour before pick it up
	-Driver cannot book the car for more than one later than the current time.
	-Driver must pick a car among the available ones
	-The system must change the status of the car from available to unavailable

G5: A booked car but not picked up within one hour generate 1€ fee for the driver
	-The system charge the driver who booked the car for 1€
	-The system change the status of the car from unavailable to available

G6: A driver close enough to a car booked by him must be able to open it
	-The system can detect when a driver is close to the car that I booked
	-A driver close to his booked car can open it

G7: The system start charging once engine ignite
	-The system can detect that the driver ignited the engine
	-The charge is linked to the driver through the system, kept in memory, and grow based on rate
	-The charging rate and the current amount of charge is display with an interface in the car, for the driver

G8: The set of safe area is predefined by the management system
	-The system know the position of safe area and can link them to the position of the vehicle (same positioning system)

G9: The system stop charging once he leave the car parked in a safe area
	-The system can detect if the vehicle is parked (engine stopped)
	-The system stop to charge the driver if the vehicle is parked in safe area
	
G10: 10% discount on last ride if the car detect at least two passengers
	-The car can detect the amount of passengers in the car
	
	Definition of LAST RIDE?! => end of current ride?

	-The system apply a 10% discount on the last ride of the driver if he car detect more than 2 passengers

G11: The system apply 20% discount on the last ride if the car is left with more than 50% battery (over full battery)
	-The system can read the battery’s level of the car
	-The system apply a 20% discount on the last ride of the driver if the battery’s level is higher than 50% when the car is left.

G12: If the driver park the car in a special parking area, where the car can be charged, and take care to plug the car. The system apply 30% discount on the last ride.
	-The system know the position of special parking area and can link them to the position of the vehicle (same positioning system)
	-The system can detect if the driver park the car in a special parking area
	-The system can detect if the driver plugged the car and so apply a 30% discount on the last ride of the driver.

G13: If the car is left with less than 20% battery or at more than 3km from the nearest power grid station, the system charges 30% more on the last ride.	
	-The system know the position of the power grid stations
	-If the car is left farther than 3km from a power grid station or with less than 20% battery, the system charges 30% more on the last ride of the driver.

G14: The driver can enable the saving money option and so by giving his final destination to the system, this one is able give him a station as destination (based on distribution of cars algorithm and available plugs in the station as well as the final destination of the driver) and so if the driver leave the car at this place he will get a special discount.
	-The driver can activate a saving money option and enter his final destination
	-The system know the number of available plugs per station
	-The system have an algorithm to find the best station with available plugs in order to be as close as possible from the final destination of the driver and optimize an uniform distribution of the cars among the city
	

2.3.	Driver characteristics (actors) [Vianney]
The ‘driver’ 
2.4.	Constraints [Vianney]
Ensure safety of driver informations and transactions

The system is compliant with local laws about drivers informations

The car position can be known at anytime, anywhere

The system can work with most of online mean of payment



2.5.	Assumptions and Dependencies (Domain) [Vianney]

- We assume that the amount of safe areas and power grid stations is enough to cover efficiently the entire city in which the system evolves


System

- We know the position of the car at anytime, anywhere

- You can only use the smartphone application to access to the system

- We know the position of safe areas, special parking areas and power grid stations

Society

-The society have a maintenance and insurance service for cars

Car

-The car can count the number of passengers

-We can communicate with the car at anytime, anywhere

-There is an interface to communicate with the driver

Driver

- He has a driver license, piece of identity and mean of payment

- We can trust the provided informations

- He has a smartphone with localisation system

- The driver is legally responsible for his actions

3.	Specific Requirements
3.1.	External Interface Requirements[Rémi]
3.1.1.	User Interfaces [Rémi]
3.1.2.	Hardware Interfaces
3.1.3.	Software Interfaces
3.1.4.	Communication Interfaces
	
3.2.	Functional requirements
3.2.1.	Scenarios identifying [Noëlie]
3.2.1.1. Scenarios Diagram [Rémi]
3.2.1.2.	First Scenario
	-	John wants to visits the Duomo with Claire and Marie. He has heard about the PowerEnjoy app by a friend, so he wants to try and downloads it on his mobile.
	-   He registers on the app, giving his name, his email, his payment information, his driver license and a copy of his identity card. 
	- 	He receives a confirmation of his registration and his driver password by email.
	-	He logs in the app, selects the reservation mode and chooses 1.5km as maximal distance from his position where he wants to find a car. 
	-	PowerEnjoy provides him a map with the stations around him, according to the distance, with the indication of the available cars.
	-	He selects a car in the nearest station, at 500m from him. 
	-	He validates at 2pm. He receives an email, confirming that the car is locked for John until 3pm.
	-	At 2.05pm John walks to the car and selects the unlock mode of the app, then the car unlockes. 
	-	He gets in the car and sees on the navigation screen the price of the ride: 0€, the actual discount: 0€ and the amount of money/min: 0.8€.
	-	Then he ticks the money saving option and put his destination. On the car interface, the app indicates him the nearest station from the Duomo where he can have a discount.
	-	He drives and takes Claire and Marie on the road, the system detects them and the screen prints a discount of 10%.
	-	Reaching the station after 20 minutes, John parks the car and plugs it. The battery is 40% empty. The price is 16€ and the discount 60% on the screen. 
	-	John, Claire and Marie leave the car, the car locks and is available again.
	-	John receives an email with the amount of money he will pay, 7€ and the discount he has : 60%.

3.2.1.3.	Second Scenario
	-	Katia is already registered on the PowerEnjoy app. She uses the reservation mode to find a car near her flat to go to the cinema; she enters her address on the app. 
	-	She enters 700m as the maximal distance from her flat where she wants to find a car. 
	-	PowerEnjoy provides her a map with the stations around her according to the distance, with the indication of the available cars.
	-	She selects a car in the tram station and she validates at 4p.m. 
	-	She receives an email, confirming that the car is locked for her until 5pm.
	-	But finally Katia invites Karl to the cinema and he drives them. So Katia was not at the station after 6p.m. At this moment the car is available again at the station.
	-	Katia receives an email with the amount of money she has to pay: 1€, the app informs her that she cannot select a car again in the next 3h.

3.2.1.4.	Third Scenario
	-	Steve selects the reservation mode of the app and enters 1km as maximal distance to find a car. 
	-	The app provides him a map with the station around him according to the distance, with the indication of the available cars.
	-	He selects a car with 50% of battery empty in the 3rd station and and validates at 5p.m. 
	-	He receives an email, confirming that the car is locked for him until 6pm.
	-	At 5.40pm, Steve walks to the station, stops near the car and selects the unlock mode of the app. The car is unlocked. 
	-	He gets in the car and sees on the screen the price of the ride: 0€, the actual discount: 0€ and the amount of money/min: 0.7€.
	-	He drives 1h until reach his grandparent’s small town. There is only one safe station given by the app, without power grid, the nearest is at 4km from the station. 
	- 	He parks there, the battery is 81% empty. The screen prints a charge of 60%.
	-	He leaves the car, which locks and is available again.
	-	Steve receives a message with the amount of money he will pay: 67€ and the charge he has on his last ride : 60%.
	
3.2.1.5.	Fourth Scenario
	- 	Amelie selects the reservation mode of the app, and enters 2km as the maximal distance from her she wants to find a car. 
	-	The app provides her a map with the station around her, according to the distance, with the indication of the available cars.
	-	She selects a car in the nearest parking and validates at 7p.m. 
	-	She receives an email, confirming that the car is locked for her until 8p.m.
	-	But her mother decides at the last moment to come at her house. 
	- 	So Amelie cancels her booking on the app at 7.30p.m.
	- 	She received an email confirming it, she pays 1€ and the app informs her that she cannot select a car again in the next 2h.
	- 	The car is available again immediately on the app.
	
3.2.1.5.	Fifth Scenario
	- 	Anna is already registered on the PowerEnjoy app. She selects the reservation mode of the app, and enters 1km as the maximal distance from her position she wants to find a car. 
	-	The app provides her a map with the station around her, according to the distance, with the indication of the available cars.
	-	She selects a car in the nearest parking and validates at 6a.m. 
	-	She receives an email, confirming that the car is locked for her until 7a.m. 
	-	Then her sister wants to take a car too, she is used to take the account of Anna on PowerEnjoy. She tried to use the reservation mode on her phone but she can't select it.
	- 	She can only access to the cancel mode.  
	- 	She asks to Anna if she reserved a car, and if she can drives her to the school. Anna agrees and they live their house.

3.2.1.6. Sixth Scenario
	-	Simone has reserved a car with the PowerEnjoy app. He has picked it in time and drived until his girlfriend's house. The price on the screen is 22€. 
	-	There is no safe area around the house and Simone decides to parks in the street.
	- 	He leaves the car, which locks and is available again.
	-	Simone receives a message with the amount of money he will pay: 44€.

3.2.2.	Use cases diagram [Noëlie]
[Noëlie]
3.2.3.	Use cases
Use case 1
Use case name: AppRegistration
	Participating actors:
	-	Driver
	Entry condition: 
	-	The Driver selects the "Registration" function of the PowerEnjoy app
	Flow of Events: 
	-	The Driver fills in the registration form : The Driver gives his name, his email, his payment information, his driver license and an identity document.
	- 	The Driver submits his informations.
	- 	The System checks if the email is not in the database. Then it creates a new Driver in the database, with the informations given and a new password.
	-	The System sends a registration confirmation to the Driver, with his password, by email.
	Exit condition: 
	-	The Driver received his password by email.
	Exceptions:
	-	If the connection is lost, the app page is reloaded and the Driver has to fill it again
	-	If the email is already in the database, the app page is reloaded with an error message 
	Special Requirements: 
					 
Functional requirement 1.1
	-	The application provide a register interface
	-	The informations are safely transmitted
	-	The database can store properly Driver's information
	- 	Lost connection management
	-	Check if the email provided is already in the database
	-	Return password by email
	-	Link payment information to payment system

Use case 2
Use cases name: DriverLogIn
	Participating actors:
	-	Driver
	Entry condition: 
	-	The Driver selects the "Login" function of the app
	Flow of Events: 
	-	The Driver fills in the email and password entries and submits.
	-	The System checks the email and password in the database and logs the Driver.
	Exit condition: 
	-	The Driver logs in the app.
	Exceptions:
	-	If the connection is lost the app page is reloaded and the Driver has to fill it again.
	-	If the email is not in the database, the app page is reloaded with an error message.
	- 	If the password does not correspond to the email in the database, the app page is reloaded with an error message.
	- 	If the Driver selects the "forget password" function, the Driver has to fill in the email entries and submits. 
		The System checks the email in the database and sends the associated password by email to the Driver or prints an error.
	Special Requirements: 
	
	 
Functional requirement 2.1
	- 	The application provide a login interface
	-	Check that the information provided match the database’s information
	- 	Lost connection management
	-	The informations are safely transmitted
	-	The system must provide a safe way for the Driver to get back his password

Use case 3
Use cases name: CarReservation
	Participating actors:
	-	Driver
	Entry condition: The Driver logs in and selects the "Reserve car" function of the app
	Flow of Events: 
	-	The Driver enters his location, by giving an adress or selecting his GPS position.
	- 	The Driver chooses a maximal distance from the selected location to find a car. 
	-	The System finds the available cars around the location, according to the distance. It sends them on a map to the Driver's mobile.
	-	The Driver selects a car among them and validates the reservation.
	-	The System registers the reservation in the database, by locking the car for the Driver during 1hour : the car is unavailable on the PowerEnjoy app during 1hour.
	-	The System sends an email of confirmation to the Driver.
	Termination condition: 
	-	The Driver received the reservation confirmation by email.
	Exceptions:
	-	If the connection is lost the app page is reloaded and the Driver has to fill it again.	
	-	If the Driver had already reserved a car or is forbidden to reserve one,  the "Reserve car" function is not available.
	Special Requirements: 
	
Functional requirement 3.1
	- 	Lost connection management
	-	A driver can only have one car linked to him, either driving or booked
	-	A driver cannot book a car if his status prevent him
	-	As soon as a car is booked, her status move from available to unavailable
	-	The system know the car and the driver status
	-	The system knows and can compare the position of the user with cars
	-	An algorithm can return the available cars within a given distance from the position given by the user, on a map

	
	 
Use case 4
Use cases name:  CancelReservation
	Participating actors:
	-	Driver
	Entry condition: The Driver logs in and selects the "Cancel Resevation" function of the app before the end of the reservation.
	Flow of Events: 
	-	The System puts the car as available in the database and sends an email confirming the cancel & giving the bell of the Driver reservation: 1€. 
	-	The Driver is notified by the System that it is impossible for him to select a car again in the next 2h.
	- 	The System registers the Driver as forbidden to reserve a car for the next 2hours in the database.
	Exit condition: 
	-	The Driver received the cancel confirmation by email and the notification.
	Exceptions:
	-	If the connection is lost the app page is reloaded and the Driver has to fill it again.
	Special Requirements: 

Functional requirement 4.1
	-
	 
Use case 5
Use case name:  CarUnloking
Participating actors:
	-	Driver
	Entry condition: The Driver arrives near the car, logs the app and selects the "Unlock car" function 
	Flow of Events: 
	-	The System accesses to the location of the Driver by using the GPS of his mobile. 
	-	The System compares this location with the car's one and unlock it.
	-	The Driver gets in the car and sees on the navigation screen the current price of the ride, the amount of money/min and the discount on price of the ride.
	Exit condition: 
	-	The Driver start the car.
	Exceptions:
	-	If the connection is lost the app page is reloaded and the Driver has to fill it again.
	- 	If the Driver is too far from the car, The System doesn't unlock the car and sends an error message to the Driver.
	-	If the Driver is not detected at the station one hour after the reservation or is detected after this time, then the System registers the car as available again in the database with its new informations.
		The System sends an email giving the bell of the Driver reservation: 1€, and notified him that he can't select a car again in the next 3h.
		The System registers the Driver as forbidden to reserve a car for the next 3hours in the database.
	Special Requirements: ?

Functional requirement 5.1

	-	When a user doesn’t pick a car his booked car within 1 hour, the system charge him for 1€, set the car to available, and prevent the user to book a car for next 3 hours
	- 	Lost connection management
	-	The system can detect if the user is close to the car when he asks to unlock the car
	-	There is an unlock function on the interface of the application
	

Use case 6
Use cases name:  RideAndCarLock
	Participating actors:
	-	Driver
	-	Maintenance
	Entry condition: The Driver start the car.
	Flow of Events: 
	-	The System starts the charging of the money on the navigation screen.
	-	The Driver takes a ride until the destination.
	-	The Driver parks in a safe area given by the navigation screen, stops and exits the car.
	- 	The System is notified that the car is empty and parked in a safe area with the GPS of the car. It stops charging the price, locks the car and registers it as available at the new station in database with its new informations.
	-	The System sends an email to the Driver with the price of the ride and the discount or charge he will have on his last ride.
	Exit condition: 
	-	The Driver received the bell of the ride.
	Exceptions:
	-	If the Driver doesn't park in a safe area, the System stops charging the price, locks the car and sends an email to the Maintenance with the location of the car. Then it doubles theprice of the Driver's ride.
	-	If the Driver selects the saving money option on the car's navigation screen and gives his destination, then the System provides him, on the screen, a safe area where he can have a discount.
	-	If the car detects more than 2 passengers, it informs the System which increases the discount of the last ride by 10% on the navigation screen & in the database.
	-	If the battery level is > 50%, the car informs the System which increases the discount of the last ride by 20% on the navigation screen & in the database.
	- 	If the Driver plugs the car on a power grid within 5minutes after leaving the car, the System is notified and increases the discount of the last ride by 30% on the navigation screen & in the database.
	-	If the battery level is < 80%, the car informs the System which increases the charge of the last ride by 30% on the navigation screen & in the database.
	-	If the Driver parks further than 3km from the nearest power grid station the System detects it and increases the charge of the last ride by 30% on the navigation screen & in the database.
	Special Requirements:
	-	The System has to know how cominicate with the Maintenance.
	- 	The price of the ride must be adapted to the amount of money/min. 
	-	The discount or charge must be adapted to the battery levels/power grid distance/number of passengers.

Functional requirement 6.1

3.2.4.	Sequence diagrams [Noëlie]
3.2.5.	Activity diagrams [Noëlie]


3.3.	Non-functional requirements [Rémi]


3.4.	Design Constraints [Rémi]
3.4.1.	Standards compliance 
3.4.2.	Hardware limitations

3.5.	Software System Attributes [Vianney]
3.5.1.	Reliability 
3.5.2.	Availability 
3.5.3.	Security 
3.5.4.	Maintainability 
3.5.5.	Portability

3.6. Other Requirements

4.	Alloy modelling
4.1.	Model [Noëlie sign]
4.2.	Alloy result
4.3.	World generated

5.	Future development [Vianney]

6.	Hours of work
6.1.	Vianney Payelle
6.2.	Rémi Rigal
6.3.	Noëlie Ramuzat

Appendices 

Index

